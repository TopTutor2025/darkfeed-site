<!doctype html>
<html lang="it">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1,viewport-fit=cover" />
  <title>NightPulse — Geopolitica • Business • Tecnologia</title>
  <meta name="description" content="Analisi di geopolitica, business e tecnologia in stile cyberpunk dark." />

  <style>
    :root{
      --bg:#07080b;
      --panel: rgba(13, 15, 22, .72);
      --text:#e9eef6;
      --muted:#9aa7bd;
      --faint:#6b7890;

      --yellow:#fcee09;
      --cyan:#00f0ff;
      --magenta:#ff00a8;

      --border: rgba(255,255,255,.10);
      --shadow: 0 18px 60px rgba(0,0,0,.55);
      --glow-cyan: 0 0 .5px rgba(0,240,255,.9), 0 0 22px rgba(0,240,255,.22);
      --glow-mag: 0 0 .5px rgba(255,0,168,.9), 0 0 22px rgba(255,0,168,.18);
      --glow-yellow: 0 0 .5px rgba(252,238,9,.9), 0 0 22px rgba(252,238,9,.16);

      --radius:18px;
      --radius2:22px;
      --nav-h:64px;

      --font: ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Helvetica, Arial;
      --mono: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono","Courier New", monospace;
    }

    *{ box-sizing:border-box; }
    html,body{ height:100%; }
    body{
      margin:0;
      font-family:var(--font);
      color:var(--text);
      background:
        radial-gradient(1200px 900px at 20% -10%, rgba(0,240,255,.10), transparent 60%),
        radial-gradient(900px 700px at 90% 10%, rgba(255,0,168,.10), transparent 55%),
        radial-gradient(900px 900px at 50% 120%, rgba(252,238,9,.07), transparent 55%),
        linear-gradient(180deg, #05060a 0%, var(--bg) 25%, #060713 100%);
      overflow-x:hidden;
    }

    a{ color:inherit; text-decoration:none; }

    /* NAVBAR 80% opaque, hide down / show up */
    .nav{
      position:fixed; top:0; left:0; right:0;
      height:var(--nav-h);
      z-index:50;
      display:flex;
      align-items:center;
      justify-content:space-between;
      padding: 10px 14px calc(10px + env(safe-area-inset-top));
      padding-top: calc(10px + env(safe-area-inset-top));
      backdrop-filter: blur(14px) saturate(140%);
      -webkit-backdrop-filter: blur(14px) saturate(140%);
      background: rgba(8, 10, 16, .80);
      border-bottom: 1px solid rgba(255,255,255,.08);
      box-shadow: 0 12px 40px rgba(0,0,0,.25);
      transform: translateY(0);
      transition: transform .26s ease;
    }
    .nav--hidden{
      transform: translateY(calc(-1 * (var(--nav-h) + env(safe-area-inset-top) + 12px)));
    }

    .nav__left, .nav__right{ display:flex; align-items:center; gap:10px; }

    .nav__left a{
      display:inline-flex;
      align-items:center;
      justify-content:center;
      width:38px; height:38px;
      border-radius:12px;
      border:1px solid rgba(255,255,255,.10);
      background: rgba(10,12,20,.55);
      box-shadow: inset 0 0 0 1px rgba(0,240,255,.10);
      transition: transform .15s ease, border-color .15s ease;
    }
    .nav__left a:active{ transform: scale(.98); }
    .nav__left a:hover{ border-color: rgba(0,240,255,.30); }

    .nav__icon{ width:18px; height:18px; opacity:.95; }

    .brand{
      display:flex; align-items:center; gap:10px;
      padding: 6px 8px;
      border-radius:14px;
      border:1px solid rgba(255,255,255,.10);
      background: rgba(10,12,20,.45);
      box-shadow: inset 0 0 0 1px rgba(255,0,168,.12);
    }
    .brand img{
      width:34px; height:34px;
      border-radius:10px;
      border:1px solid rgba(255,255,255,.12);
      box-shadow: var(--glow-mag);
      object-fit:cover;
    }
    .brand__text{ display:flex; flex-direction:column; line-height:1.05; }
    .brand__name{ font-weight:900; font-size:14px; letter-spacing:.2px; }
    .brand__tagline{
      font-family:var(--mono);
      font-size:10px;
      color:var(--muted);
      letter-spacing:.6px;
      text-transform: uppercase;
    }

    .wrap{
      padding: calc(var(--nav-h) + env(safe-area-inset-top) + 14px) 14px 64px;
      max-width: 720px;
      margin: 0 auto;
    }

    .hero{
      border-radius: var(--radius2);
      padding: 14px;
      background:
        linear-gradient(135deg, rgba(0,240,255,.16), transparent 40%),
        linear-gradient(225deg, rgba(255,0,168,.14), transparent 45%),
        rgba(10, 12, 18, .62);
      border:1px solid rgba(255,255,255,.10);
      box-shadow: var(--shadow);
      position:relative;
      overflow:hidden;
    }
    .hero:before{
      content:"";
      position:absolute;
      inset:-2px;
      background:
        radial-gradient(900px 140px at 25% 0%, rgba(252,238,9,.18), transparent 60%),
        radial-gradient(700px 160px at 90% 0%, rgba(0,240,255,.16), transparent 65%),
        radial-gradient(800px 220px at 60% 120%, rgba(255,0,168,.10), transparent 60%);
      opacity:.85;
      pointer-events:none;
    }
    .hero__inner{ position:relative; }
    .hero__kicker{
      display:flex; align-items:center; gap:10px;
      font-family:var(--mono);
      font-size:11px;
      letter-spacing:.9px;
      text-transform: uppercase;
      color:var(--muted);
    }
    .dot{
      width:8px; height:8px; border-radius:999px;
      background: var(--cyan);
      box-shadow: var(--glow-cyan);
    }
    .hero__title{
      margin:10px 0 0;
      font-size:20px;
      line-height:1.15;
      font-weight:950;
      letter-spacing:.2px;
    }
    .hero__title span{
      color: var(--yellow);
      text-shadow: 0 0 18px rgba(252,238,9,.18);
    }
    .hero__sub{
      margin:10px 0 0;
      color:var(--muted);
      font-size:13px;
      line-height:1.45;
    }

    /* categories */
    .catbar{
      margin-top: 12px;
      display:flex;
      gap:10px;
      overflow-x:auto;
      -webkit-overflow-scrolling: touch;
      padding: 8px 2px 10px;
      scroll-snap-type:x mandatory;
    }
    .catbar::-webkit-scrollbar{ height:0; }

    .chip{
      scroll-snap-align:start;
      flex:0 0 auto;
      border-radius: 999px;
      padding: 10px 12px;
      border: 1px solid rgba(255,255,255,.10);
      background: rgba(10,12,20,.52);
      color: var(--text);
      font-weight: 800;
      font-size: 12px;
      letter-spacing:.2px;
      display:flex;
      align-items:center;
      gap:8px;
      box-shadow: inset 0 0 0 1px rgba(0,240,255,.10);
      transition: border-color .15s ease, transform .15s ease, background .15s ease;
      user-select:none;
      cursor:pointer;
      white-space:nowrap;
    }
    .chip:active{ transform: scale(.98); }
    .chip[aria-selected="true"]{
      border-color: rgba(252,238,9,.42);
      background:
        linear-gradient(135deg, rgba(252,238,9,.18), rgba(0,0,0,0)),
        rgba(10,12,20,.58);
      box-shadow: inset 0 0 0 1px rgba(252,238,9,.14), var(--glow-yellow);
    }
    .chip__badge{
      font-family:var(--mono);
      font-size: 10px;
      padding: 2px 7px;
      border-radius: 999px;
      border:1px solid rgba(255,255,255,.12);
      color: var(--muted);
      background: rgba(0,0,0,.22);
    }

    /* scenarios */
    .section{ margin-top: 14px; }
    .section__head{
      display:flex;
      align-items:flex-end;
      justify-content:space-between;
      gap:10px;
      margin-bottom:10px;
    }
    .section__title{
      margin:0;
      font-size: 13px;
      letter-spacing:.9px;
      text-transform: uppercase;
      color: var(--muted);
      font-family: var(--mono);
    }
    .section__hint{
      margin:0;
      font-size: 12px;
      color: var(--faint);
      font-family: var(--mono);
    }

    .evo{
      display:flex;
      gap:12px;
      overflow-x:auto;
      -webkit-overflow-scrolling:touch;
      padding-bottom:6px;
      scroll-snap-type:x mandatory;
    }
    .evo::-webkit-scrollbar{ height:0; }

    .evoCard{
      scroll-snap-align:start;
      flex: 0 0 82%;
      min-height: 92px;
      border-radius: var(--radius);
      padding: 12px 12px 10px;
      background:
        linear-gradient(145deg, rgba(0,240,255,.14), transparent 52%),
        rgba(10,12,20,.62);
      border: 1px solid rgba(255,255,255,.10);
      box-shadow: var(--shadow);
      position:relative;
      overflow:hidden;
    }
    .evoCard:after{
      content:"";
      position:absolute;
      inset:auto -40px 10px auto;
      width:120px; height:120px;
      background: radial-gradient(circle at 30% 30%, rgba(255,0,168,.22), transparent 60%);
      opacity:.9;
      pointer-events:none;
    }
    .evoCard__top{
      display:flex;
      align-items:center;
      justify-content:space-between;
      gap:10px;
      margin-bottom:10px;
      position:relative;
    }

    .tag{
      display:inline-flex;
      align-items:center;
      gap:8px;
      font-family: var(--mono);
      font-size: 10px;
      letter-spacing:.8px;
      text-transform: uppercase;
      padding: 6px 9px;
      border-radius: 999px;
      border: 1px solid rgba(255,255,255,.12);
      background: rgba(0,0,0,.20);
      color: var(--text);
      box-shadow: inset 0 0 0 1px rgba(0,240,255,.10);
      white-space:nowrap;
    }
    .tag .pill{
      width:8px; height:8px;
      border-radius:999px;
      background: var(--cyan);
      box-shadow: var(--glow-cyan);
    }
    .date{
      font-family: var(--mono);
      font-size: 11px;
      color: var(--muted);
      white-space:nowrap;
    }
    .evoCard__text{
      margin:0;
      position:relative;
      color: var(--text);
      font-size: 13px;
      line-height:1.35;
      font-weight: 900;
      letter-spacing:.1px;
    }

    /* feed articles */
    .feed{
      margin-top: 14px;
      display:flex;
      flex-direction:column;
      gap: 14px;
    }

    article.post{
      border-radius: var(--radius2);
      border: 1px solid rgba(255,255,255,.10);
      background:
        linear-gradient(135deg, rgba(255,0,168,.10), transparent 42%),
        linear-gradient(225deg, rgba(0,240,255,.10), transparent 50%),
        rgba(10,12,20,.62);
      box-shadow: var(--shadow);
      overflow:hidden;
    }

    .post__meta{
      padding: 14px 14px 10px;
      display:flex;
      align-items:center;
      justify-content:space-between;
      gap:10px;
      border-bottom: 1px solid rgba(255,255,255,.06);
      background: rgba(0,0,0,.12);
    }
    .post__metaLeft{
      display:flex;
      align-items:center;
      gap:10px;
      min-width:0;
    }
    .post__tag{
      display:inline-flex;
      align-items:center;
      gap:8px;
      font-family: var(--mono);
      font-size: 10px;
      letter-spacing: .9px;
      text-transform: uppercase;
      padding: 6px 10px;
      border-radius: 999px;
      border: 1px solid rgba(255,255,255,.12);
      background: rgba(0,0,0,.20);
      box-shadow: inset 0 0 0 1px rgba(252,238,9,.10);
      white-space:nowrap;
    }
    .post__tag .pill{
      background: var(--yellow);
      box-shadow: var(--glow-yellow);
      width:8px; height:8px; border-radius:999px;
    }
    .post__date{
      font-family: var(--mono);
      font-size: 11px;
      color: var(--muted);
      white-space:nowrap;
    }

    .post__body{ padding:14px; }
    .post__title{
      margin:0;
      font-size:18px;
      line-height:1.15;
      font-weight: 950;
      letter-spacing:.2px;
    }
    .post__subtitle{
      margin: 8px 0 0;
      color: var(--muted);
      font-size: 13px;
      line-height:1.45;
    }

    .media{
      margin-top:12px;
      border-radius:18px;
      overflow:hidden;
      border:1px solid rgba(255,255,255,.10);
      background: rgba(0,0,0,.25);
      box-shadow: inset 0 0 0 1px rgba(0,240,255,.10);
    }
    .media img{
      width:100%;
      height:220px;
      object-fit: cover;
      display:block;
      filter: saturate(1.05) contrast(1.05);
    }
    .yt{
      position:relative;
      width:100%;
      padding-top:56.25%;
      background:#000;
    }
    .yt iframe{
      position:absolute;
      inset:0;
      width:100%;
      height:100%;
      border:0;
    }

    .highlight{
      margin-top:12px;
      border-radius:18px;
      padding: 12px;
      background:
        linear-gradient(135deg, rgba(252,238,9,.14), rgba(255,0,168,.10)),
        rgba(10,12,20,.64);
      border: 1px solid rgba(252,238,9,.22);
      box-shadow: inset 0 0 0 1px rgba(0,240,255,.10);
    }
    .highlight__k{
      font-family: var(--mono);
      font-size:10px;
      letter-spacing:.9px;
      text-transform: uppercase;
      color: var(--muted);
      margin:0 0 6px;
    }
    .highlight__t{
      margin:0;
      font-size:13px;
      line-height:1.45;
      font-weight: 900;
    }

    .post__content{
      margin-top:12px;
      font-size:13px;
      line-height:1.6;
      color: rgba(233,238,246,.92);
    }
    .post__content p{ margin: 0 0 10px; }
    .post__content p:last-child{ margin-bottom: 0; }

    .post__footer{
      margin-top:12px;
      display:flex;
      flex-direction:column;
      gap:10px;
      padding-top:12px;
      border-top:1px solid rgba(255,255,255,.08);
    }
    .sources{
      display:flex;
      flex-wrap:wrap;
      gap:8px;
    }
    .source{
      display:inline-flex;
      align-items:center;
      gap:8px;
      padding: 8px 10px;
      border-radius: 999px;
      border: 1px solid rgba(255,255,255,.10);
      background: rgba(0,0,0,.18);
      font-weight: 900;
      font-size: 12px;
      transition: border-color .15s ease, transform .15s ease;
    }
    .source:hover{ border-color: rgba(0,240,255,.34); }
    .source:active{ transform: scale(.98); }
    .source .s-dot{
      width:7px; height:7px; border-radius:999px;
      background: var(--cyan);
      box-shadow: var(--glow-cyan);
    }
    .author{
      display:flex;
      align-items:center;
      justify-content:space-between;
      gap:10px;
      color: var(--muted);
      font-family: var(--mono);
      font-size: 11px;
      letter-spacing:.3px;
    }
    .author strong{
      color: var(--text);
      font-family: var(--font);
      font-weight: 950;
    }

    /* infinite hint (no clone) */
    .loader{
      margin: 14px 0 0;
      border-radius: 18px;
      border: 1px dashed rgba(0,240,255,.30);
      background: rgba(0,240,255,.06);
      padding: 12px;
      color: var(--muted);
      font-family: var(--mono);
      font-size: 11px;
      letter-spacing: .6px;
      text-transform: uppercase;
      display:none;
    }
    .loader.is-on{ display:block; }

    .empty{
      display:none;
      margin-top: 12px;
      padding: 14px;
      border-radius: 18px;
      border: 1px solid rgba(255,0,168,.28);
      background: rgba(255,0,168,.08);
      color: var(--muted);
    }
    .empty strong{ color: var(--text); }

    .scanline{
      position:fixed;
      pointer-events:none;
      inset:0;
      background: repeating-linear-gradient(
        to bottom,
        rgba(255,255,255,.03),
        rgba(255,255,255,.03) 1px,
        rgba(0,0,0,0) 2px,
        rgba(0,0,0,0) 6px
      );
      mix-blend-mode: overlay;
      opacity:.06;
      z-index:2;
    }
  </style>
</head>

<body>
  <div class="scanline" aria-hidden="true"></div>

  <header class="nav" id="nav">
    <div class="nav__left" aria-label="Social links">
      <a href="https://x.com" target="_blank" rel="noreferrer" aria-label="X">
        <svg class="nav__icon" viewBox="0 0 24 24" fill="none" aria-hidden="true">
          <path d="M4 4l7.6 9.4L4.6 20H7l5.2-4.8L16 20h4l-7.9-9.7L19.2 4H16.9l-4.7 4.4L8 4H4z" fill="currentColor" opacity=".95"/>
        </svg>
      </a>
      <a href="https://youtube.com" target="_blank" rel="noreferrer" aria-label="YouTube">
        <svg class="nav__icon" viewBox="0 0 24 24" fill="none" aria-hidden="true">
          <path d="M21 8.2s-.2-1.6-.9-2.3c-.9-.9-1.9-.9-2.4-1C14.6 4.6 12 4.6 12 4.6h0s-2.6 0-5.7.3c-.5.1-1.5.1-2.4 1C3.2 6.6 3 8.2 3 8.2S2.7 10 2.7 11.8v.4C2.7 14 3 15.8 3 15.8s.2 1.6.9 2.3c.9.9 2.1.9 2.6 1 1.9.2 5.5.3 5.5.3s2.6 0 5.7-.3c.5-.1 1.5-.1 2.4-1 .7-.7.9-2.3.9-2.3s.3-1.8.3-3.6v-.4C21.3 10 21 8.2 21 8.2z" fill="currentColor" opacity=".95"/>
          <path d="M10.3 9.2v5.6l5-2.8-5-2.8z" fill="#07080b"/>
        </svg>
      </a>
      <a href="https://patreon.com" target="_blank" rel="noreferrer" aria-label="Patreon">
        <svg class="nav__icon" viewBox="0 0 24 24" fill="none" aria-hidden="true">
          <path d="M14.7 3.2c-3.8 0-6.9 3.1-6.9 6.9 0 3.8 3.1 6.9 6.9 6.9 3.8 0 6.9-3.1 6.9-6.9 0-3.8-3.1-6.9-6.9-6.9z" fill="currentColor" opacity=".95"/>
          <path d="M4 21V3h3v18H4z" fill="currentColor" opacity=".95"/>
        </svg>
      </a>
    </div>

    <div class="nav__right">
      <a class="brand" href="#" aria-label="Home">
        <img src="https://images.unsplash.com/photo-1520975661595-6453be3f7070?auto=format&fit=crop&w=128&h=128&q=70" alt="Logo" />
        <div class="brand__text">
          <div class="brand__name">DarkFeed</div>
          <div class="brand__tagline">Geo • Biz • Tech</div>
        </div>
      </a>
    </div>
  </header>

  <main class="wrap">
    <section class="hero" aria-label="Intro">
      <div class="hero__inner">
        <div class="hero__kicker"><span class="dot" aria-hidden="true"></span> Intelligence sintetica, lettura fredda dei segnali</div>
        <h1 class="hero__title">Analisi <span>geopolitica</span>, <span>business</span> e <span>tecnologia</span> in tempo reale</h1>
        <p class="hero__sub">Filtro per categorie e feed “infinito” senza duplicazioni automatiche: quando arrivi in fondo, compare un hint e aggiungi tu nuovi &lt;article&gt; duplicandoli nel body.</p>
      </div>
    </section>

    <nav class="catbar" id="catbar" aria-label="Categorie">
      <button class="chip" type="button" data-filter="all" aria-selected="true">
        Tutto <span class="chip__badge" id="countAll">—</span>
      </button>
      <button class="chip" type="button" data-filter="geopolitica" aria-selected="false">
        Geopolitica <span class="chip__badge" id="countGeo">—</span>
      </button>
      <button class="chip" type="button" data-filter="business" aria-selected="false">
        Business <span class="chip__badge" id="countBiz">—</span>
      </button>
      <button class="chip" type="button" data-filter="tecnologia" aria-selected="false">
        Tecnologia <span class="chip__badge" id="countTech">—</span>
      </button>
    </nav>

    <section class="section" aria-label="Scenari in evoluzione">
      <div class="section__head">
        <h2 class="section__title">Scenari in evoluzione</h2>
      </div>

      <div class="evo">
        <div class="evoCard" role="article" aria-label="Scenario 1">
          <div class="evoCard__top">
            <div class="tag"><span class="pill" aria-hidden="true"></span> geopolitica</div>
            <div class="date">18 Gen</div>
          </div>
          <p class="evoCard__text">Nuove linee rosse nel dominio marittimo: rischio escalation “a bassa firma” e shock su supply chain.</p>
        </div>

        <div class="evoCard" role="article" aria-label="Scenario 2">
          <div class="evoCard__top">
            <div class="tag"><span class="pill" aria-hidden="true"></span> business</div>
            <div class="date">18 Gen</div>
          </div>
          <p class="evoCard__text">Compressione margini e repricing del rischio: riallineamento tra capex, energia e costo del capitale.</p>
        </div>

        <div class="evoCard" role="article" aria-label="Scenario 3">
          <div class="evoCard__top">
            <div class="tag"><span class="pill" aria-hidden="true"></span> tecnologia</div>
            <div class="date">18 Gen</div>
          </div>
          <p class="evoCard__text">Nuovo ciclo AI: più inferenza on-device, più vincoli di energia e sicurezza, meno tolleranza all’errore.</p>
        </div>
      </div>
    </section>

    <section class="section" aria-label="Feed articoli">
      <div class="section__head">
        <h2 class="section__title">Feed articoli</h2>
        
      </div>

      <div class="empty" id="emptyState">
        <strong>Nessun articolo</strong> per questo filtro. Seleziona “Tutto” o un’altra categoria.
      </div>

      <div class="feed" id="feed">
        <!-- ARTICOLO 1 (immagine) -->
        <article class="post" data-category="geopolitica" aria-label="Articolo geopolitica (immagine)">
          <div class="post__meta">
            <div class="post__metaLeft">
              <div class="post__tag"><span class="pill" aria-hidden="true"></span> geopolitica</div>
              <div class="post__date">18 Gen 2026</div>
            </div>
            <div class="post__date">S1</div>
          </div>

          <div class="post__body">
            <h3 class="post__title">Stretto critico e deterrenza: quando la “zona grigia” diventa costo economico</h3>
            <p class="post__subtitle">Frizioni a bassa intensità possono alzare premi assicurativi e ridisegnare rotte, scorte e tempi di consegna.</p>

            <div class="media" aria-label="Immagine di copertina">
              <img src="https://images.unsplash.com/photo-1518548419970-58e3b4079ab2?auto=format&fit=crop&w=1400&q=70" alt="Rotte marittime notturne con luci al neon" />
            </div>

            <div class="highlight" aria-label="Highlight">
              <p class="highlight__k">In evidenza</p>
              <p class="highlight__t">Il punto non è l’evento singolo, ma la baseline di rischio: più deviazioni, più buffer, più costo per unità consegnata.</p>
            </div>

            <div class="post__content">
              <p>La dinamica “zona grigia” tende a spostare il baricentro verso i costi di frizione: assicurazioni, sicurezza, ritardi e volatilità dei noli.</p>
              <p>Per le aziende, la variabile chiave diventa il tempo (lead time) e la resilienza: multi-sourcing, scorte strategiche e clausole di indicizzazione.</p>
            </div>

            <div class="post__footer">
              <div class="sources" aria-label="Fonti">
                <a class="source" href="#" target="_blank" rel="noreferrer"><span class="s-dot" aria-hidden="true"></span> Fonte 1</a>
                <a class="source" href="#" target="_blank" rel="noreferrer"><span class="s-dot" aria-hidden="true"></span> Fonte 2</a>
                <a class="source" href="#" target="_blank" rel="noreferrer"><span class="s-dot" aria-hidden="true"></span> Fonte 3</a>
              </div>
              <div class="author">
                <div>Autore: <strong>Redazione NightPulse</strong></div>
                <div>ID: NP-001</div>
              </div>
            </div>
          </div>
        </article>

        <!-- ARTICOLO 2 (player YouTube) -->
        <article class="post" data-category="tecnologia" aria-label="Articolo tecnologia (player YouTube)">
          <div class="post__meta">
            <div class="post__metaLeft">
              <div class="post__tag"><span class="pill" aria-hidden="true"></span> tecnologia</div>
              <div class="post__date">18 Gen 2026</div>
            </div>
            <div class="post__date">S2</div>
          </div>

          <div class="post__body">
            <h3 class="post__title">AI operativa: perché l’inferenza “vicino al dato” cambia sicurezza e margini</h3>
            <p class="post__subtitle">Dal cloud al device: meno latenza, più controllo, ma nuove superfici d’attacco e vincoli di energia.</p>

            <div class="media" aria-label="Player YouTube">
              <div class="yt">
                <iframe
                  src="https://www.youtube.com/embed/dQw4w9WgXcQ"
                  title="YouTube video player"
                  allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share"
                  allowfullscreen
                  loading="lazy"></iframe>
              </div>
            </div>

            <div class="highlight" aria-label="Highlight">
              <p class="highlight__k">In evidenza</p>
              <p class="highlight__t">Quando l’AI entra nei flussi core, l’errore diventa costo diretto: serve osservabilità e piani di fallback.</p>
            </div>

            <div class="post__content">
              <p>L’inferenza distribuita abilita use case real-time ma sposta il rischio verso device eterogenei, aggiornamenti complessi e protezione del modello.</p>
              <p>Impatto business: capex edge, differenziazione di prodotto e costi di compliance/sicurezza che incidono sul gross margin.</p>
            </div>

            <div class="post__footer">
              <div class="sources" aria-label="Fonti">
                <a class="source" href="#" target="_blank" rel="noreferrer"><span class="s-dot" aria-hidden="true"></span> Fonte 1</a>
                <a class="source" href="#" target="_blank" rel="noreferrer"><span class="s-dot" aria-hidden="true"></span> Fonte 2</a>
              </div>
              <div class="author">
                <div>Autore: <strong>Desk Tech</strong></div>
                <div>ID: NP-002</div>
              </div>
            </div>
          </div>
        </article>
      </div>

      <div class="loader" id="loader" aria-live="polite">
        Fine feed: duplica un &lt;article class="post"&gt; nel body per aggiungere nuovi contenuti.
      </div>
    </section>
  </main>

  <script>
    (function(){
      // NAV hide down / show up
      const nav = document.getElementById('nav');
      let lastY = window.scrollY;
      let ticking = false;

      function onScroll(){
        const y = window.scrollY;
        const delta = y - lastY;

        if (Math.abs(delta) > 6){
          if (delta > 0 && y > 90) nav.classList.add('nav--hidden');
          else nav.classList.remove('nav--hidden');
          lastY = y;
        }
        ticking = false;
      }

      window.addEventListener('scroll', () => {
        if (!ticking){
          window.requestAnimationFrame(onScroll);
          ticking = true;
        }
      }, { passive:true });

      // FILTER categories
      const feed = document.getElementById('feed');
      const emptyState = document.getElementById('emptyState');
      const chips = Array.from(document.querySelectorAll('.chip'));
      let currentFilter = 'all';

      function getPosts(){ return Array.from(feed.querySelectorAll('article.post')); }

      function applyFilter(filter){
        currentFilter = filter;

        chips.forEach(btn => {
          btn.setAttribute('aria-selected', (btn.dataset.filter === filter) ? 'true' : 'false');
        });

        let visible = 0;
        getPosts().forEach(post => {
          const cat = (post.dataset.category || '').toLowerCase();
          const show = (filter === 'all') || (cat === filter);
          post.style.display = show ? '' : 'none';
          if (show) visible++;
        });

        emptyState.style.display = (visible === 0) ? 'block' : 'none';
      }

      document.getElementById('catbar').addEventListener('click', (e) => {
        const btn = e.target.closest('.chip');
        if (!btn) return;
        applyFilter(btn.dataset.filter);
        // quando filtri, se sei in fondo e non ci sono elementi visibili, resta l'empty state
      });

      // COUNTS
      const countAll = document.getElementById('countAll');
      const countGeo = document.getElementById('countGeo');
      const countBiz = document.getElementById('countBiz');
      const countTech = document.getElementById('countTech');

      function refreshCounts(){
        const posts = getPosts();
        const c = { geopolitica:0, business:0, tecnologia:0, all: posts.length };
        posts.forEach(p => {
          const k = (p.dataset.category || '').toLowerCase();
          if (c[k] !== undefined) c[k]++;
        });
        countAll.textContent = String(c.all);
        countGeo.textContent = String(c.geopolitica);
        countBiz.textContent = String(c.business);
        countTech.textContent = String(c.tecnologia);
      }

      // INFINITE SCROLL (NO DUPLICATION):
      // show hint when near bottom. You manually duplicate <article> in HTML.
      const loader = document.getElementById('loader');
      let hintShown = false;

      function nearBottom(){
        const scrollPos = window.scrollY + window.innerHeight;
        const threshold = document.body.scrollHeight - 900;
        return scrollPos >= threshold;
      }

      window.addEventListener('scroll', () => {
        if (!nearBottom()) return;
        if (hintShown) return;

        loader.classList.add('is-on');
        hintShown = true;
      }, { passive:true });

      // init
      refreshCounts();
      applyFilter('all');
    })();
  </script>
</body>
</html>










